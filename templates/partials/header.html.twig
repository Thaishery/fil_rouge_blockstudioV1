


     {% block metaTitle %}
         {# MENU DE CONNEXION #}
     {% endblock %}


     {% block title %}   
         {# MENU DE CONNEXION #}
     {% endblock %}

     
     {% block body %}
     <!-- Button trigger modal -->

         <header>   
         
             <div class="AcountFrame" style="display:flex; justify-content:space-around;">
                      
                     {# ***** BLOC AUTHENTIFICATION ***** #}
                     <div class="TextFrame">
                            
                         {% if app.user %}

                             <p> Vous etes connectÃ© en tant que: 

                                 {% if app.user %}
                                     {{app.user.login}}
                                 {% endif %} <br/>

                             </p>

                         {% endif %}
                            
                     </div>      
                    
                     {# prÃ©voir mise en place pour administration (gestion des roles) #}
                     {% if app.user %}
                
                     {# ***** CONTENEUR ACCORDEON ***** #}
                     <div class="accordion accordion-flush col-2" id="accordionFlushExample">

                     {# *** Partie: Interface d'administration *** #}                                          
                        {% if is_granted('ROLE_ADMIN') %} <br/>

                         {# ***** ELEMENT NÂ°1 ***** #}
                         <div class="accordion-item">
                                
                                             {# *** TITRE DE L'ELEMENT NÂ°1 *** #}
                                             <h2 class="accordion-header" id="flush-headingOne">
                                                 
                                                 <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne">
                                                     Interface d'administration
                                                 </button>
                                           
                                             </h2>
         
                                            <div id="flush-collapseOne" class="accordion-collapse collapse" aria-labelledby="flush-headingOne" data-bs-parent="#accordionFlushExample">
         
                                                     {# *** CONTENU DE L'ELEMENT NÂ°1 *** #}
                                                     <div class="accordion-body">
                                                 
                                                         {# ***** BLOC IDENTIFICATION ***** #}
                                                         <div class="logFrame">
                                                                                                                       
                                                                 <ul>
            
                                                                     <li>
                                                                         <a href="{{path ("home_index")}}" style="text-decoration:none"> Gestion de l'accueil </a><br/>     
                                                                     </li>  
            
                                                                     <li>
                                                                        <a href="{{path ("services_index")}}" style="text-decoration:none"> Gestion des services </a> <br/>
                                                                     </li>
            
                                                                     <li>                                           
                                                                         <a href="{{path ("user_index")}}" style="text-decoration:none"> Gestion des utilisateurs </a><br/>     
                                                                     </li>   
            
                                                                     <li>     
                                                                         <a href="{{path ("projet_index")}}" style="text-decoration:none"> Gestion des projets </a>
                                                                     </li> 

                                                                     <li>
                                                                        <a href="{{path ("plateforme_index_admin")}}" style="text-decoration:none"> Gestion des plateformes </a>
                                                                    </li>
            
                                                                 </ul>                                             
         
                                                            </div>
         
                                                         </div>
         
                                            </div>

                      {% endif %}

                     {% endif %}
                     
                     {# ***** ELEMENT NÂ°2 ***** #}

                         {% if app.user %}

                             {# ***** BLOC GESTION DU COMPTE ***** #}
                             <div class="accordion-item ">
         
                                         {# *** TITRE DE L'ELEMENT NÂ°2 *** #}
                                         <h2 class="accordion-header" id="flush-headingTwo">      
         
                                             <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwo" aria-expanded="false" aria-controls="flush-collapseTwo">                                            
                                                 Gestion du compte
                                             </button>      
         
                                         </h2>
         
                                         {# *** CONTENU DE L'ELEMENT NÂ°2 *** #}
                                         <div id="flush-collapseTwo" class="accordion-collapse collapse" aria-labelledby="flush-headingTwo" data-bs-parent="#accordionFlushExample">                                         

                                             <div class="accordion-body">
                                                 
                                                 {# *** Partie: Gestion du compte (utilisateur actuel) *** #}
                                                 {% if is_granted('ROLE_USER') %} 
                                                     
                                                     <ul>
                                                     
                                                         <li>
                                                             <a href="{{path ('user_edit_current', { 'id': app.user.id })}}" style="text-decoration:none"> 
                                                                 GÃ©rer mon compte
                                                             </a> <br/>  
                                                         </li>  

                                                         <li>  
                                                             <a href="{{path ('projet_index_user', { 'login': app.user.login})}}" style="text-decoration:none"> 
                                                                 GÃ©rer mes projets 
                                                             </a> <br/>
                                                         </li>  

                                                         <li>  
                                                             <a href="{{path ('plateforme_index', { 'login': app.user.login})}}" style="text-decoration:none"> 
                                                                 GÃ©rer mes plateformes 
                                                             </a> <br/>
                                                         </li>  

                                                         {# <li>  
                                                             <a href="{{ path ('app_logout') }}"> Se dÃ©connecter </a>
                                                         </li>  #}

                                                     </ul>

                                                 {% endif %}
         
                                                         <li>  
                                                             <a href="{{ path ('app_logout') }}" style="text-decoration:none"> 
                                                                 ðŸ”˜ Se dÃ©connecter 
                                                             </a>
                                                         </li> 

                                             </div>
         
                                         </div>
                                                 
                             {% endif %}

                                     {% if not app.user %}
                               
                                 {# *** BLOC CONNEXION & CREER UN COMPTE *** #}
                                        
                                             {% include 'partials/modal.html.twig' %}
                                         

                                         {% endif %} 
         
                                 </div>

                             </div>

                         </div>

                     </div>

                 </div>

             </div>                             
         
                         {# ***** BARRE DE NAVIGATION ***** #}
                
                         <nav class="navbar navbar-expand-lg navbar-light bg-light">
                
                             <div class="container-fluid">
                
                                 <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                                     <span class="navbar-toggler-icon"></span>
                                 </button>
                
                                 <div class="collapse navbar-collapse" id="navbarSupportedContent">
                                
                                         <ul class="navbar-nav">
                
                                             <li class="nav-item active">
                                                 <a class="nav-link" href="{{path ("home")}}"> Accueil </a>
                                             </li>
                
                                             {# ***** MENU DEROULANT **** #}
                                             <li class="nav-item dropdown">
                
                                                     {# *** SERVICES *** #}
                                                         <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                                              Services 
                                                         </a>
                
                                                     {# prÃ©voir boucle twig pour rÃ©cuperer depuis la bdd #}
                                                     {# <li><hr class="dropdown-divider"></li> sert a diviser le menu #}
                
                                                     {# ***** Liste du Menu dÃ©roulant: SERVICES ***** #}                                                   
                                                         <ul class="dropdown-menu" aria-labelledby="navbarDropdown">

                                                            {% for service in services %}

                                                             <li>
                                                                 <a class="dropdown-item" href="{{path ("service_user", {'id': service.id})}}"> {{service.title}}</a>
                                                             </li>

                                                             {% endfor %}
                                                         </ul>
                           
                                             </li>               

                                                 {# *** LES PROJETS *** #}
                                                    <li class="nav-item ">
                                                         <a class="nav-link" href="{{path ("projets")}}"> Projets </a>
                                                    </li>
                                                    
                                                 {# *** LES ARTISTES *** #}
                                                     <li class="nav-item ">
                                                         <a class="nav-link" href="{{path ("artistes")}}"> Artistes </a>
                                                     </li>
                
                                                 {# *** LIVRE D'OR *** #}
                                                     <li class="nav-item">
                                                         <a class="nav-link" href="{{path ("livre_dor")}}"> Livre d'or </a>
                                                     </li>
                
                                             {# Todo: Mettre en place menu dÃ©roulant #}

                                             {# ***** MENU DEROULANT **** #}
                                             <li class="nav-item dropdown">

                                                 {# *** CONTACT *** #}
                                                     <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                                         Contact 
                                                     </a>

                                                 {# prÃ©voir boucle twig pour rÃ©cuperer depuis la bdd #}
                                                     {# <li><hr class="dropdown-divider"></li> sert a diviser le menu #}

                                                 {# ***** Liste du Menu dÃ©roulant: SERVICES ***** #}                                                   
                                                     <ul class="dropdown-menu" aria-labelledby="navbarDropdown">

                                                         {# {% for contact in contacts %} #}

                                                             {# <li>
                                                                 <a class="dropdown-item" href="{{path ("contact", {'id': contact.id})}}"> {{contact_controller_admin.title}}</a>
                                                             </li> #}
                                                             
                                                             {# ! Pas fini. Reste encore Ã  crÃ©er les controllers pour les nouvelles pages. ! #}
                                                             {# !Il y a des path qui ne sont pas correct... C'est normal =) JC_ #}

                                                             <li>
                                                                 <a class="nav-link" href="{{path ("contact")}}"> Contact </a>     
                                                             </li>
 
                                                             {# todo: crÃ©er les controller et les vues des nouvelles pages JC_ #}

                                                             <li>
                                                                 <a class="nav-link" href="{{path ("contact")}}"> Tarifs </a>     
                                                             </li>

                                                             <li>
                                                                 <a class="nav-link" href="{{path ("contact")}}"> RÃ©servations </a>     
                                                             </li>

                                                         {# {% endfor %} #}

                                                     </ul>

                                                 {# *** CONTACT *** #}
                                                     {# <li class="nav-item">
                                                         <a class="nav-link" href="{{path ("contact")}}"> Contact </a>                                    
                                                     </li> #}
 
                                             </li>    

                                         </ul>
                
                                 </div>
                
                             </div>

                      </div>

              </div>
            
                         </nav>   
    
         </header>  
 
     {% endblock %}