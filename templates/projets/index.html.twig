 {% extends 'base.html.twig' %}


     {% block metaTitle %}
         "Projets"
     {% endblock %}


     {% block title %} 
         Projets 
     {% endblock %}

     {% block body %}
    {{ form_start(form)}}
    <div class="row">
        {{form_widget
            (form.val,
            {
            'attr': {'placeholder':'rechercher un projet',
            'class':'col-9',
            }}
            ) 
            }}
        {{form_widget
            (form.Rechercher,
            {
            'attr':{
            'class':'col-2 btn',
            }}
            )
        }}
    </div>
    {{ form_end(form)}}
             {# *** ALBUM CARD *** #}
 
                 <div class="row mainFrame col-10">
                 <div class="row">
                 
                    {% for projets in projet %}
                    
                    <div class="flip-card card col-12 col-md-3 " style="height:500px; min-width:25%" >

                        <div class="flip-card-inner">

                            <div class="flip-card-front" >

                                 <h1 class="col-12">{{projets.title}}</h1>

                                 <img class="col-12" src="/uploads/cover/{{projets.cover}}" alt="Cover"  >

                                 <text>
                                     Artiste: {{projets.createur.login}}
                                 </text>
                                 
                                <br/>
                                
                                 <text>
                                     Tracks: {{projets.nb_of_tracks}}
                                 </text>
                                 
                                <br/>
                                
                                 <text>
                                     Description: {{projets.description|length > 50 ? projets.description|slice(0,50)~'...' : projets.description}}
                                 </text>
                                                          
                             </div>

                             <div class="flip-card-back col-12 col-md-3 ">

                                 <h2 class="lead"> {{projets.title}} </h2>

                                 <h2> {{projets.createur.login}} </h2>
     
                                 <p> {{projets.description}} </p>
                                
                                 {% if projets.linkone %}
                                     Lien N°1: <a href="{{projets.linkone}}">{{projets.linkone|length > 30 ? projets.linkone|slice(0,30)~'...' : projets.linkone}}</a>
                                 {% endif %}

                                 {% if projets.linktwo %}
                                     Lien N°2: <a href="{{projets.linktwo}}">{{projets.linktwo|length > 30 ? projets.linktwo|slice(0,30)~'...' : projets.linktwo}}</a>
                                 {% endif %}

                                 {% if projets.linkthree %}
                                     Lien N°3: <a href="{{projets.linkthree}}">{{projets.linkthree|length > 30 ? projets.linkthree|slice(0,30)~'...' : projets.linkthree}}</a>
                                 {% endif %}

                                     <br/>  

                                     <p> Espace Réserver pour le player </p>

                             </div>
                            
                        </div>

                    </div>

                         {# <div class="card col-12 col-md-3" id="{{projets.id}}"> #}
                           
                             {# *** Nom du projet *** #}
                                 {# <h1> {{projets.title}} </h1> #}
    
                             {# *** Cover du projet *** #}
                                 {# <img src="/uploads/cover/{{projets.cover}}" role="img" preserveAspectRatio="xMidYMid slice" focusable="false"  > #}
                                 
                                 {# <rect width="100%" height="100%" fill="#55595c"></rect> #}

                             {# *** Nom de l'artiste *** #}
                                 {# <text x="50%" y="50%" fill="#eceeef" dy=".3em"> #}
                                     {# Artiste: {{projets.createur.login}} #}
                                 {# </text> #}
                             
                             {# *** Nombre de tracks du projet *** #}
                                 {# <text x="50%" y="50%" fill="#eceeef" dy=".3em">
                                     Nombre de pistes: {{projets.nb_of_tracks}}
                                 </text>

                                     <div class="card-body"> #}
                                         
                                         {# *** Description du projet *** #}
                                             {# <p class="card-text">
                                                 Description: {{projets.description|length > 50 ? projets.description|slice(0,50)~'...' : projets.description}}
                                             </p> #}

                                         {# <div class="d-flex justify-content-between align-items-center">

                                             <div class="" role="group">

                                                 <button type="button" class="btn btn-primary" id="button-plus-{{projets.id}}">
                                                     Plus d'info: 
                                                 </button>
                                                <br/>
                                                 <button type="button" class="btn btn-primary">
                                                     Ecouter un extrait. 
                                                 </button>
                                                 
                                             </div> #}
                                            
                                                 {# *** Date de publication du projet *** #}
                                                     {# <small class="text-muted"> #}
                                                         {# {{projets.years.date}} #}
                                                     {# </small> #}
                                           
                                         {# </div> #}
                                         
                                     {# </div> #}

                         {# </div> #}
                    
                     {% endfor %}
                    
                    
                    </div>
                 </div>

                 </div>

                 <nav aria-label="...">

                     <div class="pagination justify-content-center">
                         {{ knp_pagination_render(projet, '@KnpPaginator/Pagination/twitter_bootstrap_v4_pagination.html.twig') }}
                         {# {{ knp_pagination_render(projet) }} #}
                     </div>

                 </nav>
         
     {% endblock %}     